<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="When the Quoting Verification Library is linked to a process, it needs to know the proper enclave loading policy. The library may be linked with a long lived process, such as a service, where it can load the enclaves and leave them loaded (persistent). This better ensures that the enclaves will be available upon quote requests and not subject to EPC limitations if loaded on demand. However, if the Quoting library is linked with an application process, there may be many applications with the Quoting library and a better utilization of EPC is to load and unloaded the quoting enclaves on demand (ephemeral).  The library will be shipped with a default policy of loading enclaves and leaving them loaded until the library is unloaded (PERSISTENT). If the policy is set to EPHEMERAL, then the QE and PCE will be loaded and unloaded on-demand.  If either enclave is already loaded when the policy is change to EPHEMERAL, the enclaves will be unloaded before returning."><title>sgx_qv_set_enclave_load_policy in intel_tee_quote_verification_rs - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Bold-a2c9cd1067f8b328.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-c4dbdcde0fbd8430.css" id="mainThemeStyle"><link rel="stylesheet" id="themeStyle" href="../static.files/light-db279b6232be9c13.css"><link rel="stylesheet" disabled href="../static.files/dark-cf923f49f397b216.css"><link rel="stylesheet" disabled href="../static.files/ayu-be46fdc453a55015.css"><script src="../static.files/storage-3891ce972e3a2bf8.js"></script><script defer src="sidebar-items.js"></script><script defer src="../static.files/main-98a684e84ae5b08b.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-13285aec31fa243e.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc fn"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="logo-container" href="../intel_tee_quote_verification_rs/index.html"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2></h2></nav><nav class="sidebar"><a class="logo-container" href="../intel_tee_quote_verification_rs/index.html"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><div class="sidebar-elems"><h2><a href="index.html">In intel_tee_quote_verification_rs</a></h2></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Function <a href="index.html">intel_tee_quote_verification_rs</a>::<wbr><a class="fn" href="#">sgx_qv_set_enclave_load_policy</a><button id="copy-path" title="Copy item path to clipboard"><img src="../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="srclink" href="../src/intel_tee_quote_verification_rs/lib.rs.html#80-82">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><pre class="rust item-decl"><code>pub fn sgx_qv_set_enclave_load_policy(
    policy: <a class="enum" href="enum.sgx_ql_request_policy_t.html" title="enum intel_tee_quote_verification_rs::sgx_ql_request_policy_t">sgx_ql_request_policy_t</a>
) -&gt; <a class="enum" href="enum.quote3_error_t.html" title="enum intel_tee_quote_verification_rs::quote3_error_t">quote3_error_t</a></code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>When the Quoting Verification Library is linked to a process, it needs to know the proper enclave loading policy.
The library may be linked with a long lived process, such as a service, where it can load the enclaves and leave
them loaded (persistent). This better ensures that the enclaves will be available upon quote requests and not subject
to EPC limitations if loaded on demand. However, if the Quoting library is linked with an application process, there
may be many applications with the Quoting library and a better utilization of EPC is to load and unloaded the quoting
enclaves on demand (ephemeral).  The library will be shipped with a default policy of loading enclaves and leaving
them loaded until the library is unloaded (PERSISTENT). If the policy is set to EPHEMERAL, then the QE and PCE will
be loaded and unloaded on-demand.  If either enclave is already loaded when the policy is change to EPHEMERAL, the
enclaves will be unloaded before returning.</p>
<h2 id="param"><a href="#param">Param</a></h2>
<ul>
<li><strong>policy</strong><br />
Set the requested enclave loading policy to either <em>SGX_QL_PERSISTENT</em>, <em>SGX_QL_EPHEMERAL</em> or <em>SGX_QL_DEFAULT</em>.</li>
</ul>
<h2 id="return"><a href="#return">Return</a></h2>
<ul>
<li><em><strong>SGX_QL_SUCCESS</strong></em><br />
Successfully set the enclave loading policy for the quoting library’s enclaves.</li>
<li><em><strong>SGX_QL_UNSUPPORTED_LOADING_POLICY</strong></em><br />
The selected policy is not support by the quoting library.</li>
<li><em><strong>SGX_QL_ERROR_UNEXPECTED</strong></em><br />
Unexpected internal error.</li>
</ul>
<h2 id="examples"><a href="#examples">Examples</a></h2>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>intel_tee_quote_verification_rs::<span class="kw-2">*</span>;

<span class="kw">let </span>policy = sgx_ql_request_policy_t::SGX_QL_DEFAULT;
<span class="kw">let </span>ret = sgx_qv_set_enclave_load_policy(policy);

<span class="macro">assert_eq!</span>(ret, quote3_error_t::SGX_QL_SUCCESS);</code></pre></div>
</div></details></section></div></main><div id="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="intel_tee_quote_verification_rs" data-themes="" data-resource-suffix="" data-rustdoc-version="1.69.0 (84c898d65 2023-04-16)" data-search-js="search-8a59a8356673ec1f.js" data-settings-js="settings-f0c5c39777a9a2f6.js" data-settings-css="settings-0bcba95ff279c1db.css" ></div></body></html>